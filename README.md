# 政策立案予算シミュレーションアプリ

## 概要

このアプリケーションは、政策立案における予算シミュレーションを支援するWebアプリケーションです。新規事業計画の予算を入力し、過去の類似事業と比較分析することで、適切な予算設定の参考情報を提供します。

## 機能

### 1. サマリーKPI表示
- **提案事業予算**: ユーザーが入力した予算額を表示
- **類似事業平均予算**: 分析結果から算出された類似事業の平均予算を表示
- **予算比較（過不足）**: 提案予算と平均予算の差額を表示（不足時は警告色）
- **類似事業件数**: 分析で見つかった過去事例の件数を表示

### 2. 事業計画入力
- **現状・目的（課題）**: 事業が解決しようとしている課題や目的の記述
- **事業名**: 課題解決策としての事業の名称
- **事業概要**: 課題解決策としての具体的な事業内容
- **当初予算**: 想定している予算額

### 3. 類似事業分析
- **タブ機能**: 「すべて」「高評価事業」「要改善事業」でフィルタリング
- **事例リスト**: 過去事業の一覧表示（事業名、投下予算、評価）
- **詳細表示**: クリックで事業の詳細情報をモーダル表示

### 4. データ管理
- **新規作成**: 新しい事業計画の作成
- **保存**: 現在の事業計画をローカルストレージに保存
- **データ出力**: 分析結果をJSONファイルとして出力

## 技術仕様

### フロントエンド
- **HTML5**: セマンティックなマークアップ
- **CSS3**: モダンなデザインとレスポンシブレイアウト
- **JavaScript (ES6+)**: クラスベースのアーキテクチャ

### デザイン
- **レイアウト**: ヘッダー + 2カラムレイアウト
- **背景**: 薄いグレー（#f5f7fa）
- **カード**: 白い背景で浮き上がり効果
- **カラーパレット**: グラデーションブルーを基調としたモダンなデザイン

### レスポンシブ対応
- デスクトップ、タブレット、モバイルに対応
- グリッドレイアウトによる柔軟な配置

## 使用方法

### 1. アプリケーションの起動
```bash
# ブラウザでindex.htmlを開く
open index.html
```

### 2. 事業計画の入力
1. 左カラムの「新規事業計画」フォームに必要事項を入力
2. 「過去事例と比較分析する」ボタンをクリック

### 3. 分析結果の確認
- 上部のKPIカードで予算比較を確認
- 右カラムで類似事業の一覧を確認
- タブを切り替えて評価別にフィルタリング

### 4. 詳細情報の閲覧
- 類似事業の項目をクリックして詳細モーダルを表示

### 5. データの保存・出力
- ヘッダーの「保存」ボタンでローカル保存
- 「データ出力」ボタンでJSONファイルとして出力

## ファイル構成

```
├── index.html          # メインのHTMLファイル
├── styles.css          # スタイルシート
├── script.js           # JavaScript機能
├── README.md           # このファイル
└── backend/            # バックエンドシステム
    ├── app.py          # Flask APIサーバー
    ├── config.py       # 設定管理
    ├── data_processor.py # データ処理・ベクトル化
    ├── budget_predictor.py # 予算予測ロジック
    ├── sample_data.py  # サンプルデータ生成
    ├── requirements.txt # Python依存関係
    └── README.md       # バックエンド説明書
```

## カスタマイズ

### サンプルデータの変更
`script.js`の`loadSampleData()`メソッド内のサンプルデータを編集することで、表示される過去事業を変更できます。

### スタイルの変更
`styles.css`を編集することで、色やレイアウトをカスタマイズできます。

### 機能の拡張
`script.js`の`PolicyBudgetSimulator`クラスに新しいメソッドを追加することで、機能を拡張できます。

## 今後の拡張予定

- **グラフ表示**: 予算分布や評価の内訳を可視化
- **AI分析**: より高度な類似事業の検索・分析
- **データベース連携**: 外部データベースとの連携
- **ユーザー管理**: 複数ユーザーでの利用
- **履歴管理**: 分析履歴の保存・参照

## バックエンドシステム

本アプリケーションには、FlaskベースのバックエンドAPIが含まれています。

### 主な機能
- OpenAI Embedding APIを使用したテキストベクトル化
- 類似度計算による過去事業の検索
- 機械学習による予算予測
- RESTful APIによるフロントエンド連携
- SQLiteデータベースによる分析履歴の保存・管理
- ログの検索・フィルタリング・エクスポート機能

### 使用方法
1. `backend/`ディレクトリに移動
2. Python仮想環境を作成・有効化
3. `pip install -r requirements.txt`で依存関係をインストール
4. `.env`ファイルでOpenAI APIキーを設定
5. `python app.py`でサーバーを起動

詳細は`backend/README.md`を参照してください。

## ブラウザ対応

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## ライセンス

このプロジェクトは教育・研究目的で作成されています。

## 注意事項

- このバージョンは実際の行政レビューシートデータ（final_2024.csv）を使用しています
- 3790件の実際の政策事業データを分析に活用
- 実際の政策立案では、より詳細な分析と専門家の判断が必要です
- ローカルストレージを使用しているため、ブラウザの設定によっては保存機能が制限される場合があります
